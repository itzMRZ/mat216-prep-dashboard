<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Personal MAT216 study dashboard with progress tracking, export/import, and coverage monitor.">
    <title>MAT216 Prep Dashboard</title>
    <style>
        :root {
            --bg-color: #121212;
            --container-bg: #1e1e1e;
            --block-bg: #282828;
            --text-primary: #e0e0e0;
            --text-secondary: #b3b3b3;
            --header-color: #ffffff;
            --border-color: #333333;
            --accent-primary: #6a82fb;
            --accent-green: #1db954;
            --accent-gold: #f9d56e;
        }
        * { box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            background-color: var(--bg-color);
            color: var(--text-primary);
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1100px;
            margin: 0 auto;
            background-color: var(--container-bg);
            padding: 30px;
            border-radius: 16px;
        }
        .header-grid {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 30px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        .header-title h1 { font-size: 2.5em; margin: 0; color: var(--header-color); }
        .header-title p { margin: 5px 0 0; color: var(--text-secondary); font-size: 1.1em; }
        .monitor-section { background-color: var(--block-bg); padding: 15px; border-radius: 12px; min-width: 320px; }
        .monitor-section h3 { margin: 0 0 10px; font-size: 1.1em; text-align: center; color: var(--text-secondary); }
        .monitor-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 8px; }
        .question-status { background-color: #333; padding: 6px 12px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; font-size: 0.9em; transition: all 0.3s ease; }
        .status-indicator { font-weight: bold; }
        .status-covered { background-color: var(--accent-green); color: white; box-shadow: 0 0 10px rgba(29, 185, 84, 0.4); }
        .status-not-covered { background-color: #444; color: #aaa; }

        #progress-container { width: 100%; background-color: #333; border-radius: 10px; margin: 30px 0; overflow: hidden;}
        #progress-bar { width: 0%; height: 32px; background: linear-gradient(90deg, var(--accent-primary), #a361fe); text-align: center; line-height: 32px; color: white; border-radius: 10px; transition: width 0.5s ease-in-out; font-weight: bold; font-size: 1.1em; }
        
        .study-block { background-color: var(--block-bg); padding: 25px; border-radius: 12px; margin-bottom: 25px; }
        .study-block h2 { font-size: 1.8em; margin: 0 0 20px; padding-bottom: 10px; border-bottom: 1px solid var(--border-color); }
        .study-block h3 { font-size: 1.3em; margin: 25px 0 15px; color: var(--accent-gold); }
        .study-block ul { list-style-type: none; padding-left: 0; }
        
        li {
            background-color: #333;
            margin-bottom: 10px;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--border-color);
            display: flex;
            align-items: flex-start;
            transition: all 0.3s ease;
        }
        li:hover { background-color: #3a3a3a; }
        .sub-task { margin-left: 40px; background-color: #383838; }
        .checked-task { border-left-color: var(--accent-green); background-color: #2a3a31; }
        .checked-task label { text-decoration: line-through; color: #888; }
        .golden-problem { border-left-color: var(--accent-gold); }
        
        input[type="checkbox"] { margin-right: 15px; min-width: 20px; min-height: 20px; cursor: pointer; accent-color: var(--accent-primary); margin-top: 3px; }
        label { cursor: pointer; flex-grow: 1; }
        label b { color: var(--accent-green); font-weight: 600; }
        .rationale { display: block; font-size: 0.9em; color: var(--text-secondary); margin-top: 8px; padding-left: 5px; border-left: 2px solid #555; }

        /* Controls and sticky progress */
        .progress-controls { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; margin-top: 8px; }
        .progress-controls button {
            background: var(--accent-primary);
            color: #fff;
            border: none;
            padding: 10px 14px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }
        .progress-controls button:hover { opacity: 0.95; }
        .progress-controls button:active { transform: translateY(1px); }

        #progress-container { position: sticky; top: 0; z-index: 100; background-color: var(--container-bg); }

        /* Tabs */
        .practice-tabs { margin-top: 10px; }
        .tab-header { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 10px; }
        .tab-button { background: #2a2a2a; color: #ddd; border: 1px solid #3a3a3a; padding: 8px 12px; border-radius: 8px; cursor: pointer; }
        .tab-button.active { background: var(--accent-primary); color: #fff; border-color: transparent; }
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        /* Topic summary */
        .topic-summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 10px; }
        .topic-summary-item { background: #2a2a2a; border: 1px solid #3a3a3a; border-radius: 10px; padding: 12px 14px; display: flex; justify-content: space-between; align-items: baseline; }
        .topic-summary-item .label { color: var(--text-secondary); }
        .topic-summary-item .count { font-weight: 700; color: #fff; }

        /* Ask AI link */
        .ask-ai { margin-left: 10px; background: #444; color: #fff; padding: 4px 8px; border-radius: 6px; text-decoration: none; font-size: 0.85em; white-space: nowrap; }
        .ask-ai:hover { background: #555; }

        @media print {
            body { background: #fff; color: #000; }
            .container { background: #fff; box-shadow: none; }
            #progress-container, .progress-controls, .monitor-section { display: none !important; }
            li { background: #fff; border-color: #ccc; }
            .study-block h2, .study-block h3 { color: #000; }
        }
    </style>
</head>
<body>

<div class="container">

    <div class="header-grid">
        <div class="header-title">
            <h1>MAT216 Prep Dashboard</h1>
            <p>Your focused checklist for the makeup exam.</p>
        </div>
        <div class="monitor-section">
            <h3>Question Coverage Monitor</h3>
            <div class="monitor-grid">
                <div id="q1-monitor" class="question-status status-not-covered"><span>Q1: Systems</span></div>
                <div id="q5-monitor" class="question-status status-not-covered"><span>Q5: Combination</span></div>
                <div id="q6-monitor" class="question-status status-not-covered"><span>Q6: Independence</span></div>
                <div id="q3-monitor" class="question-status status-not-covered"><span>Q3: Subspace</span></div>
                <div id="q7-monitor" class="question-status status-not-covered"><span>Q7: Transformation</span></div>
                <div id="q2-monitor" class="question-status status-not-covered"><span>Q2 & Q4: Theory</span></div>
            </div>
        </div>
    </div>
    
    <div class="progress-controls" aria-label="Progress controls">
        <button id="exportProgress" aria-label="Export progress to JSON">Export</button>
        <button id="importProgress" aria-label="Import progress from JSON">Import</button>
        <button id="resetProgress" aria-label="Reset all progress">Reset</button>
        <input type="file" id="importFile" accept=".json" style="display: none;">
    </div>
    
    <div id="progress-container"><div id="progress-bar">0%</div></div>

    <div class="study-block" id="topic-summary-block">
        <h2>Topic Progress Summary</h2>
        <div id="topic-summary-grid" class="topic-summary-grid"></div>
    </div>

    <!-- MAIN CHECKLIST -->
    <div class="study-block">
        <h2>Phase 1: The Computational Core (8 Hours)</h2>
        
        <h3>Priority #1: System of Linear Equations (4 hours)</h3>
        <p style="margin: 10px 0; font-style: italic; color: var(--text-secondary);">This is the bedrock. Nearly every other question relies on these skills.</p>
        <ul>
            <li><input type="checkbox" id="p1-w1"><label for="p1-w1">Watch: System of Linear Equations</label></li>
            <li><input type="checkbox" id="p1-w2"><label for="p1-w2">Watch: Row-echelon Form of Matrix</label></li>
            <li><input type="checkbox" id="p1-w3"><label for="p1-w3">Watch: Gaussian Elimination Method | Row Echelon Form</label></li>
            <li><input type="checkbox" id="p1-w4"><label for="p1-w4">Watch: Gauss-Jordan Method | Reduced Row Echelon Form</label></li>
            <li><input type="checkbox" id="p1-p1"><label for="p1-p1">Master Gauss-Jordan elimination to get RREF - practice until row operations are second nature</label></li>
            <li><input type="checkbox" id="b1-t3-s2"><label for="b1-t3-s2">Practice: Solve Question 1 from the exam paper <b>(Q1 Covered)</b></label></li>
            <li><input type="checkbox" id="p1-p2"><label for="p1-p2">Practice: Solve 3-4 additional similar systems of equations</label></li>
        </ul>
        
        <h3>Priority #2: Linear Independence & Combination (4 hours)</h3>
        <p style="margin: 10px 0; font-style: italic; color: var(--text-secondary);">Same method for both: set up vector equation → system of equations → solve using Priority #1 skills.</p>
        <ul>
            <li><input type="checkbox" id="p2-w1"><label for="p2-w1">Watch: Linear Combination, Independence and Dependence</label></li>
            <li><input type="checkbox" id="p2-w2"><label for="p2-w2">Watch: Linear Span, Basis and Dimension - 01 (combination and span parts)</label></li>
            <li><input type="checkbox" id="p2-p1"><label for="p2-p1">Master Independence setup: c₁v₁ + c₂v₂ + ... = 0, solve for trivial solution</label></li>
            <li><input type="checkbox" id="p2-p2"><label for="p2-p2">Master Combination setup: c₁v₁ + c₂v₂ + ... = v, solve for scalars cᵢ</label></li>
            <li><input type="checkbox" id="b1-t5-s2"><label for="b1-t5-s2">Practice: Solve Question 6 from the exam paper <b>(Q6 Covered)</b></label></li>
            <li><input type="checkbox" id="b1-t4-s2"><label for="b1-t4-s2">Practice: Solve Question 5 from the exam paper <b>(Q5 Covered)</b></label></li>
        </ul>
    </div>
    
    <div class="study-block">
        <h2>Phase 2: Applying the Core Skills (7 Hours)</h2>
        
        <h3>Priority #3: Basis, Dimension, Rank & Nullity (4 hours)</h3>
        <p style="margin: 10px 0; font-style: italic; color: var(--text-secondary);">Q7b is another direct application of row reduction. Sounds complicated, but the procedure is straightforward.</p>
        <ul>
            <li><input type="checkbox" id="p3-w1"><label for="p3-w1">Watch: Four Fundamental Subspaces (Row and Column Space, Null and Left Null Space)</label></li>
            <li><input type="checkbox" id="p3-w2"><label for="p3-w2">Watch: Image and Kernel of a Linear Transformation</label></li>
            <li><input type="checkbox" id="p3-a1"><label for="p3-a1">Master Algorithm Step 1: Create standard matrix from transformation formula</label></li>
            <li><input type="checkbox" id="p3-a2"><label for="p3-a2">Master Algorithm Step 2: Reduce matrix to REF (not fully to RREF)</label></li>
            <li><input type="checkbox" id="p3-a3"><label for="p3-a3">Master Algorithm Step 3: Identify pivot columns</label></li>
            <li><input type="checkbox" id="p3-a4"><label for="p3-a4">Master Algorithm Step 4: Basis for Image = original pivot columns, dimension = number of pivots</label></li>
            <li><input type="checkbox" id="b3-t2-s3"><label for="b3-t2-s3">Practice: Solve Question 7b from the exam paper <b>(Q7b Covered)</b></label></li>
            <li><input type="checkbox" id="p3-p1"><label for="p3-p1">Practice: Find basis for Kernel (Null Space) - common related question</label></li>
        </ul>
        
        <h3>Priority #4: Subspaces (3 hours)</h3>
        <p style="margin: 10px 0; font-style: italic; color: var(--text-secondary);">Simple 3-step recipe test. The counterexample for matrix question is a classic worth memorizing.</p>
        <ul>
            <li><input type="checkbox" id="p4-w1"><label for="p4-w1">Watch: Linear Subspaces - 01</label></li>
            <li><input type="checkbox" id="p4-w2"><label for="p4-w2">Watch: Advanced Linear Subspaces - 02</label></li>
            <li><input type="checkbox" id="p4-t1"><label for="p4-t1">Memorize Subspace Test: 1) Contains zero vector? 2) Closed under addition? 3) Closed under scalar multiplication?</label></li>
            <li><input type="checkbox" id="p4-t2"><label for="p4-t2">Understand counterexample for Q3b: two singular matrices that add to non-singular matrix</label></li>
            <li><input type="checkbox" id="b2-t2"><label for="b2-t2">Practice: Write out proofs for both parts of Question 3 <b>(Q3 Covered)</b></label></li>
        </ul>
    </div>
    
    <div class="study-block">
        <h2>Phase 3: The Abstract Topics & Review (5 Hours)</h2>
        
        <h3>Priority #5: Linear Transformations (Proof) (2 hours)</h3>
        <p style="margin: 10px 0; font-style: italic; color: var(--text-secondary);">Less calculation, more about spotting the "trick" in the formula (absolute value |x|).</p>
        <ul>
            <li><input type="checkbox" id="p5-w1"><label for="p5-w1">Watch: Linear Transformations</label></li>
            <li><input type="checkbox" id="p5-t1"><label for="p5-t1">Understand two properties: T(u+v) = T(u)+T(v) and T(cu) = cT(u)</label></li>
            <li><input type="checkbox" id="p5-t2"><label for="p5-t2">Look for red flags: absolute values, squares (x²), constants being added</label></li>
            <li><input type="checkbox" id="b2-t3"><label for="b2-t3">Practice: Solve Question 7a by finding numerical counterexample for homogeneity property <b>(Q7a Covered)</b></label></li>
        </ul>
        
        <h3>Priority #6: Vector Spaces (Axioms) (1.5 hours)</h3>
        <p style="margin: 10px 0; font-style: italic; color: var(--text-secondary);">Most abstract. Good candidate to skip if confident in 5 other topics. Don't prove all 10 axioms - find one that fails.</p>
        <ul>
            <li><input type="checkbox" id="p6-w1"><label for="p6-w1">Watch: General Vector Spaces - 01</label></li>
            <li><input type="checkbox" id="p6-t1"><label for="p6-t1">Focus on finding obvious failures: zero vector, additive inverses, or 1u = u axiom</label></li>
            <li><input type="checkbox" id="b4-t1"><label for="b4-t1">Practice: Review Question 2 briefly <b>(Q2 Covered)</b></label></li>
        </ul>
        
        <h3>Final Review and Buffer (1.5 hours)</h3>
        <ul>
            <li><input type="checkbox" id="fr-1"><label for="fr-1">Re-do one problem from each of your top 5 priority topics</label></li>
            <li><input type="checkbox" id="fr-2"><label for="fr-2">Create one-page summary sheet: Subspace Test, Linear Independence Test, key procedures</label></li>
            <li><input type="checkbox" id="fr-3"><label for="fr-3">Get adequate sleep - tired brain makes mistakes on row operations</label></li>
        </ul>
    </div>
    
    <!-- PRACTICE CHECKLIST -->
    <div class="practice-tabs">
        <div class="tab-header">
            <button class="tab-button active" data-tab="golden">Golden Practice</button>
            <button class="tab-button" data-tab="additional">Additional Practice</button>
        </div>

        <div class="tab-panel active" id="tab-golden">
            <div class="study-block">
                <h2>Golden Practice Recommendations</h2>
                
                <h3>Q1: System of Linear Equations</h3>
                <ul>
                    <li><input type="checkbox" id="p1-warmup" data-topic="systems" data-topic-label="Systems"><label for="p1-warmup"><b>Warm-up:</b> Anton, 1.2, Prob 8(b) <br> Solve the 3x3 system to ensure your RREF mechanics are perfect. <span class="rationale">Why: Builds speed and accuracy on a standard problem.</span></label></li>
                    <li class="golden-problem"><input type="checkbox" id="p1-golden" data-topic="systems" data-topic-label="Systems"><label for="p1-golden"><b>Golden:</b> Anton, 1.2, Prob 6(b) <br> Solve the 3x4 system. <br> x₁ - x₂ + 2x₃ - x₄ = -1 <br> 2x₁ + x₂ - x₃ + 2x₄ = -2 <br> -x₁ + 2x₂ - 2x₃ - x₄ = 1 <span class="rationale">Why: Exactly mirrors your exam's format, forcing you to handle free variables.</span></label></li>
                </ul>

                <h3>Q2: Vector Space Axioms</h3>
                <ul>
                    <li><input type="checkbox" id="p2-warmup" data-topic="vector-spaces" data-topic-label="Vector Spaces"><label for="p2-warmup"><b>Warm-up:</b> Anton, 5.1, Prob 1 <br> Test the set with scalar multiplication k(x, y, z) = (kx, y, z). <span class="rationale">Why: Good practice for the mindset of testing individual axioms.</span></label></li>
                    <li class="golden-problem"><input type="checkbox" id="p2-golden" data-topic="vector-spaces" data-topic-label="Vector Spaces"><label for="p2-golden"><b>Golden:</b> Anton, 5.1, Prob 16 <br> Test the set of pairs (x,y) with scalar multiplication k(x, y) = (kx, 0). <span class="rationale">Why: A perfect clone of your exam question's structure. It fails the identity axiom 1*u = u.</span></label></li>
                </ul>

                <h3>Q3: Subspaces</h3>
                <ul>
                    <li><input type="checkbox" id="p3-warmup" data-topic="subspaces" data-topic-label="Subspaces"><label for="p3-warmup"><b>Warm-up:</b> Anton, 5.2, Prob 1(c) <br> Prove that the plane a + b + c = 0 is a subspace of R³. <span class="rationale">Why: Excellent practice for writing a standard subspace proof using the 3 conditions.</span></label></li>
                    <li class="golden-problem"><input type="checkbox" id="p3-golden" data-topic="subspaces" data-topic-label="Subspaces"><label for="p3-golden"><b>Golden:</b> Anton, 5.2, Prob 2(c) <br> Determine if the set of 2x2 matrices with determinant 0 is a subspace. <span class="rationale">Why: This is the exact same problem as your exam's Q3b. Master the counterexample.</span></label></li>
                </ul>

                <h3>Q5: Linear Combination</h3>
                <ul>
                    <li><input type="checkbox" id="p5-warmup" data-topic="linear-combination" data-topic-label="Linear Combination"><label for="p5-warmup"><b>Warm-up:</b> Anton, 5.2, Prob 7 <br> Check if vectors are linear combinations of u = (0,-2,2) and v = (1,3,-1). <span class="rationale">Why: Simple, clean practice for setting up and solving c₁u + c₂v = w.</span></label></li>
                    <li class="golden-problem"><input type="checkbox" id="p5-golden" data-topic="linear-combination" data-topic-label="Linear Combination"><label for="p5-golden"><b>Golden:</b> Anton, 5.2, Prob 9(a) <br> Is M = [[6,-8],[-1,-8]] a linear combination of three other given matrices? <span class="rationale">Why: The exact format of your exam question, using matrices instead of vectors.</span></label></li>
                </ul>

                <h3>Q6: Linear Independence</h3>
                <ul>
                    <li><input type="checkbox" id="p6-warmup" data-topic="independence" data-topic-label="Linear Independence"><label for="p6-warmup"><b>Warm-up:</b> Custom Prob #3 <br> Are v₁=(1,2,3), v₂=(4,5,6), v₃=(2,1,0) linearly independent? <span class="rationale">Why: A standard test. Set up Ax=0 and check if only the trivial solution exists.</span></label></li>
                    <li class="golden-problem"><input type="checkbox" id="p6-golden" data-topic="independence" data-topic-label="Linear Independence"><label for="p6-golden"><b>Golden:</b> Anton, 5.3, Prob 9 <br> For which values of λ are the vectors (1,λ,1), (1,1,λ), (λ,1,1) linearly dependent? <span class="rationale">Why: A tougher problem perfect for a makeup. Tests the key link: dependent ⇔ determinant is zero.</span></label></li>
                </ul>

                <h3>Q7: Linear Transformation</h3>
                <ul>
                    <li><input type="checkbox" id="p7-warmup" data-topic="transformations" data-topic-label="Transformations"><label for="p7-warmup"><b>Warm-up (Q7a):</b> Custom Prob <br> Is T(x, y) = (x², y) a linear transformation? <span class="rationale">Why: Practices spotting non-linear terms (like squares) and finding a counterexample.</span></label></li>
                    <li class="golden-problem"><input type="checkbox" id="p7-golden" data-topic="basis-rank" data-topic-label="Basis/Rank (Im/Kernel)"><label for="p7-golden"><b>Golden (Q7b):</b> Anton, 5.5, Prob 11(c) <br> Find a basis for the column space of a given 3x5 matrix A. <span class="rationale">Why: Finding the basis for Im(T) is identical to finding the basis for the column space of T's standard matrix.</span></label></li>
                </ul>
            </div>
        </div>

        <div class="tab-panel" id="tab-additional">
            <div class="study-block">
                <h2>Additional Practice</h2>
                <p>Curated from Anton, Strang, and lecture examples. New items only. Click "Ask AI" to open a pre-filled query.</p>

                <h3>Systems of Linear Equations</h3>
                <ul>
                    <li><input type="checkbox" id="ap-sys-strang-2_2-13" data-topic="systems" data-topic-label="Systems"><label for="ap-sys-strang-2_2-13">Strang 2.2 #13 — Gaussian elimination practice</label><a class="ask-ai" href="https://chat.openai.com/?q=Strang%202.2%20Problem%2013%20Gaussian%20elimination%20solution%20steps" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-sys-anton-1_2-12c" data-topic="systems" data-topic-label="Systems"><label for="ap-sys-anton-1_2-12c">Anton 1.2 #12(c) — Consistency and RREF</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%201.2%20Problem%2012(c)%20consistency%20and%20RREF" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-sys-strang-2_3-24" data-topic="systems" data-topic-label="Systems"><label for="ap-sys-strang-2_3-24">Strang 2.3 #24 — Augmented matrices and elimination</label><a class="ask-ai" href="https://chat.openai.com/?q=Strang%202.3%20Problem%2024%20augmented%20matrices%20elimination" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>

                <h3>Inverse & Invertibility</h3>
                <ul>
                    <li><input type="checkbox" id="ap-inv-anton-1_5-7a" data-topic="inverse" data-topic-label="Inverse/Invertibility"><label for="ap-inv-anton-1_5-7a">Anton 1.5 #7(a) — Expressing matrices as products of elementary matrices</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%201.5%20Problem%207(a)%20elementary%20matrices%20product" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-inv-strang-2_5-10" data-topic="inverse" data-topic-label="Inverse/Invertibility"><label for="ap-inv-strang-2_5-10">Strang 2.5 #10 — Gauss-Jordan inverse</label><a class="ask-ai" href="https://chat.openai.com/?q=Strang%202.5%20Problem%2010%20Gauss-Jordan%20inverse" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>

                <h3>Determinants</h3>
                <ul>
                    <li><input type="checkbox" id="ap-det-anton-2_1-3" data-topic="determinants" data-topic-label="Determinants"><label for="ap-det-anton-2_1-3">Anton 2.1 #3 — Cofactor expansion</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%202.1%20Problem%203%20cofactor%20expansion%20determinant" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-det-strang-5_1-16" data-topic="determinants" data-topic-label="Determinants"><label for="ap-det-strang-5_1-16">Strang 5.1 #16 — det(AB) = det(A)det(B)</label><a class="ask-ai" href="https://chat.openai.com/?q=Strang%205.1%20Problem%2016%20det(AB)%20=%20det(A)det(B)" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>

                <h3>Vector Spaces & Subspaces</h3>
                <ul>
                    <li><input type="checkbox" id="ap-vs-anton-5_1-12" data-topic="vector-spaces" data-topic-label="Vector Spaces"><label for="ap-vs-anton-5_1-12">Anton 5.1 #12 — Vector space axiom check</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%205.1%20Problem%2012%20vector%20space%20axioms" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-vs-strang-3_1-10" data-topic="subspaces" data-topic-label="Subspaces"><label for="ap-vs-strang-3_1-10">Strang 3.1 #10 — Intersection of subspaces</label><a class="ask-ai" href="https://chat.openai.com/?q=Strang%203.1%20Problem%2010%20intersection%20of%20subspaces" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>

                <h3>Linear Combination & Span</h3>
                <ul>
                    <li><input type="checkbox" id="ap-span-anton-5_2-10d" data-topic="linear-combination" data-topic-label="Linear Combination"><label for="ap-span-anton-5_2-10d">Anton 5.2 #10(d) — Membership in span</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%205.2%20Problem%2010(d)%20span%20membership" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-span-strang-2_4-5" data-topic="linear-combination" data-topic-label="Linear Combination"><label for="ap-span-strang-2_4-5">Strang 2.4 #5 — Column space combinations</label><a class="ask-ai" href="https://chat.openai.com/?q=Strang%202.4%20Problem%205%20column%20space%20combination" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>

                <h3>Linear Independence</h3>
                <ul>
                    <li><input type="checkbox" id="ap-li-anton-5_3-6b" data-topic="independence" data-topic-label="Linear Independence"><label for="ap-li-anton-5_3-6b">Anton 5.3 #6(b) — Independence test</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%205.3%20Problem%206(b)%20linear%20independence%20test" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-li-strang-3_5-2" data-topic="independence" data-topic-label="Linear Independence"><label for="ap-li-strang-3_5-2">Strang 3.5 #2 — Independent columns</label><a class="ask-ai" href="https://chat.openai.com/?q=Strang%203.5%20Problem%202%20independent%20columns" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>

                <h3>Rank & Nullity</h3>
                <ul>
                    <li><input type="checkbox" id="ap-rank-anton-5_6-2d" data-topic="basis-rank" data-topic-label="Basis/Rank (Im/Kernel)"><label for="ap-rank-anton-5_6-2d">Anton 5.6 #2(d) — Rank/Nullity computation</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%205.6%20Problem%202(d)%20rank%20and%20nullity" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-rank-anton-5_6-13" data-topic="basis-rank" data-topic-label="Basis/Rank (Im/Kernel)"><label for="ap-rank-anton-5_6-13">Anton 5.6 #13 — Dimension theorem application</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%205.6%20Problem%2013%20dimension%20theorem" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>

                <h3>Coordinate Transformations</h3>
                <ul>
                    <li><input type="checkbox" id="ap-coord-lect-18-2" data-topic="transformations" data-topic-label="Transformations"><label for="ap-coord-lect-18-2">Lecture 18: Example 18.2 — Coordinate vectors relative to a basis</label><a class="ask-ai" href="https://chat.openai.com/?q=Coordinate%20vectors%20relative%20to%20a%20basis%20example" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-coord-lect-18-5" data-topic="transformations" data-topic-label="Transformations"><label for="ap-coord-lect-18-5">Lecture 18: Example 18.5 — Transition matrices between bases</label><a class="ask-ai" href="https://chat.openai.com/?q=Transition%20matrices%20between%20bases%20example" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>

                <h3>Eigenvalues & Eigenvectors</h3>
                <ul>
                    <li><input type="checkbox" id="ap-eig-anton-7_1-2a" data-topic="eigen" data-topic-label="Eigenvalues/Eigenvectors"><label for="ap-eig-anton-7_1-2a">Anton 7.1 #2(a) — Eigenvalues and eigenvectors</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%207.1%20Problem%202(a)%20eigenvalues%20and%20eigenvectors" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-eig-strang-6_1-5" data-topic="eigen" data-topic-label="Eigenvalues/Eigenvectors"><label for="ap-eig-strang-6_1-5">Strang 6.1 #5 — Eigenvalues via trace and determinant</label><a class="ask-ai" href="https://chat.openai.com/?q=Strang%206.1%20Problem%205%20eigenvalues%20trace%20determinant" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>

                <h3>Diagonalization</h3>
                <ul>
                    <li><input type="checkbox" id="ap-diag-anton-7_2-3" data-topic="diagonalization" data-topic-label="Diagonalization"><label for="ap-diag-anton-7_2-3">Anton 7.2 #3 — Find P that diagonalizes A</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%207.2%20Problem%203%20diagonalize%20matrix" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-diag-strang-6_2-18" data-topic="diagonalization" data-topic-label="Diagonalization"><label for="ap-diag-strang-6_2-18">Strang 6.2 #18 — Diagonalization and matrix powers</label><a class="ask-ai" href="https://chat.openai.com/?q=Strang%206.2%20Problem%2018%20diagonalization%20matrix%20powers" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>

                <h3>Orthogonality & Projections</h3>
                <ul>
                    <li><input type="checkbox" id="ap-ortho-anton-6_1-10" data-topic="orthogonality" data-topic-label="Orthogonality"><label for="ap-ortho-anton-6_1-10">Anton 6.1 #10 — Inner product properties</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%206.1%20Problem%2010%20inner%20product%20properties" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-ortho-anton-6_3-2" data-topic="orthogonality" data-topic-label="Orthogonality"><label for="ap-ortho-anton-6_3-2">Anton 6.3 #2 — Orthogonal/Orthonormal sets</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%206.3%20Problem%202%20orthonormal%20sets" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-proj-strang-4_2-5" data-topic="projections" data-topic-label="Orthogonal Projections"><label for="ap-proj-strang-4_2-5">Strang 4.2 #5 — Projection matrices</label><a class="ask-ai" href="https://chat.openai.com/?q=Strang%204.2%20Problem%205%20projection%20matrix%20P%20=%20A(A^T%20A)^{-1}A^T" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>

                <h3>Gram-Schmidt & Least Squares</h3>
                <ul>
                    <li><input type="checkbox" id="ap-gs-anton-6_3-17a" data-topic="gram-schmidt" data-topic-label="Gram-Schmidt"><label for="ap-gs-anton-6_3-17a">Anton 6.3 #17(a) — Gram-Schmidt to build orthonormal basis</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%206.3%20Problem%2017(a)%20Gram-Schmidt%20orthonormal%20basis" target="_blank" rel="noopener">Ask AI</a></li>
                    <li><input type="checkbox" id="ap-lsq-anton-6_4-3c" data-topic="least-squares" data-topic-label="Least Squares"><label for="ap-lsq-anton-6_4-3c">Anton 6.4 #3(c) — Least squares line fit (normal equations)</label><a class="ask-ai" href="https://chat.openai.com/?q=Anton%206.4%20Problem%203(c)%20least%20squares%20normal%20equations" target="_blank" rel="noopener">Ask AI</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        const progressBar = document.getElementById('progress-bar');
        
        const milestoneMapping = {
            'q1-monitor': 'b1-t3-s2',
            'q2-monitor': 'b4-t1',
            'q3-monitor': 'b2-t2',
            'q5-monitor': 'b1-t4-s2',
            'q6-monitor': 'b1-t5-s2',
            'q7-monitor-a': 'b2-t3', 
            'q7-monitor-b': 'b3-t2-s3'
        };

        function updateAll() {
            updateProgressBar();
            updateMonitor();
            checkboxes.forEach(updateTaskStyle);
            updateTopicSummary();
        }

        function loadProgress() {
            checkboxes.forEach(checkbox => {
                checkbox.checked = localStorage.getItem(checkbox.id) === 'true';
            });
            updateAll();
        }

        function saveProgress(checkbox) {
            localStorage.setItem(checkbox.id, checkbox.checked);
        }

        function updateProgressBar() {
            const checkedCount = document.querySelectorAll('input[type="checkbox"]:checked').length;
            const totalCount = checkboxes.length;
            const percentage = totalCount > 0 ? (checkedCount / totalCount) * 100 : 0;
            progressBar.style.width = percentage + '%';
            progressBar.textContent = Math.round(percentage) + '%';
        }

        function updateMonitor() {
            ['q1-monitor', 'q3-monitor', 'q5-monitor', 'q6-monitor', 'q2-monitor'].forEach(monitorId => {
                const milestoneCheckboxId = milestoneMapping[monitorId];
                const isCovered = document.getElementById(milestoneCheckboxId).checked;
                const monitorElement = document.getElementById(monitorId);
                monitorElement.className = isCovered ? 'question-status status-covered' : 'question-status status-not-covered';
            });

            const q7a_covered = document.getElementById(milestoneMapping['q7-monitor-a']).checked;
            const q7b_covered = document.getElementById(milestoneMapping['q7-monitor-b']).checked;
            const q7Monitor = document.getElementById('q7-monitor');
            q7Monitor.className = (q7a_covered && q7b_covered) ? 'question-status status-covered' : 'question-status status-not-covered';
        }

        function updateTopicSummary() {
            const grid = document.getElementById('topic-summary-grid');
            if (!grid) return;
            const map = new Map();
            document.querySelectorAll('input[type="checkbox"][data-topic]').forEach(cb => {
                const key = cb.dataset.topic;
                const label = cb.dataset.topicLabel || key;
                if (!map.has(key)) map.set(key, { label, total: 0, done: 0 });
                const rec = map.get(key);
                rec.total += 1;
                if (cb.checked) rec.done += 1;
            });
            const items = Array.from(map.values()).sort((a,b) => a.label.localeCompare(b.label));
            grid.innerHTML = items.map(rec => `<div class="topic-summary-item"><span class="label">${rec.label}</span><span class="count">${rec.done}/${rec.total}</span></div>`).join('');
        }
        
        function updateTaskStyle(checkbox) {
            const listItem = checkbox.parentElement.closest('li');
            if (checkbox.checked) {
                listItem.classList.add('checked-task');
            } else {
                listItem.classList.remove('checked-task');
            }
        }

        // Tabs behavior
        document.querySelectorAll('.tab-button').forEach(btn => {
            btn.addEventListener('click', () => {
                const target = btn.dataset.tab;
                document.querySelectorAll('.tab-button').forEach(b => b.classList.toggle('active', b === btn));
                document.querySelectorAll('.tab-panel').forEach(p => p.classList.toggle('active', p.id === 'tab-' + target));
            });
        });

        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                saveProgress(checkbox);
                updateTaskStyle(checkbox);
                updateProgressBar();
                updateMonitor();
                updateTopicSummary();
            });
        });
        
        // Progress controls (export/import/reset)
        const exportBtn = document.getElementById('exportProgress');
        const importBtn = document.getElementById('importProgress');
        const resetBtn = document.getElementById('resetProgress');
        const importFile = document.getElementById('importFile');

        if (exportBtn) {
            exportBtn.addEventListener('click', () => {
                const data = {};
                checkboxes.forEach(cb => { if (cb.id) data[cb.id] = cb.checked; });
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'mat216-progress-' + new Date().toISOString().slice(0,10) + '.json';
                a.click();
                URL.revokeObjectURL(url);
            });
        }

        if (importBtn && importFile) {
            importBtn.addEventListener('click', () => importFile.click());
            importFile.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (ev) => {
                    try {
                        const data = JSON.parse(ev.target.result);
                        checkboxes.forEach(cb => {
                            if (cb.id in data) {
                                cb.checked = !!data[cb.id];
                                saveProgress(cb);
                                updateTaskStyle(cb);
                            }
                        });
                        updateProgressBar();
                        updateMonitor();
                        alert('Progress imported successfully.');
                    } catch (err) {
                        alert('Invalid JSON file.');
                    }
                };
                reader.readAsText(file);
                e.target.value = '';
            });
        }

        if (resetBtn) {
            resetBtn.addEventListener('click', () => {
                if (!confirm('Reset all progress?')) return;
                checkboxes.forEach(cb => {
                    cb.checked = false;
                    saveProgress(cb);
                    updateTaskStyle(cb);
                });
                updateProgressBar();
                updateMonitor();
            });
        }
        
        loadProgress();
    });
</script>

</body>
</html>